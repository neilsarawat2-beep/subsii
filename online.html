<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Subsi ki Jang - Online Modek</title>
<link rel="stylesheet" href="game-styles.css">
<style>
/* MINIMAL online-specific styles only */
.mode-btn {
  background: #000;
  color: var(--cyber-blue);
  border: 2px solid var(--cyber-blue);
  padding: 20px 60px;
  margin: 15px;
  cursor: pointer;
  font-family: 'Courier New';
  font-weight: 900;
  font-size: 1.5rem;
  transition: 0.3s;
}
.mode-btn:hover {
  background: var(--cyber-blue);
  color: #000;
}
#mode-screen, #room-screen {
  position: absolute;
  inset: 0;
  background: #020202;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 100;
}
#room-screen { display: none; }
.room-input {
  background: #000;
  color: var(--cyber-blue);
  border: 2px solid var(--cyber-blue);
  padding: 15px 30px;
  font-family: 'Courier New';
  font-size: 1.2rem;
  text-align: center;
  margin: 10px;
  width: 300px;
  text-transform: uppercase;
}
.room-btn {
  background: #000;
  color: var(--cyber-blue);
  border: 2px solid var(--cyber-blue);
  padding: 15px 40px;
  margin: 10px;
  cursor: pointer;
  font-family: 'Courier New';
  font-weight: 900;
  font-size: 1.1rem;
  transition: 0.3s;
}
.room-btn:hover { background: var(--cyber-blue); color: #000; }
#waiting { color: #fff; font-size: 1.2rem; margin: 20px; display: none; }
#code-display { color: #0f0; font-size: 2rem; margin: 20px; display: none; }
</style>
</head>
<body>
<div id="crt-overlay"></div>
<div id="game-window">
<button id="back-btn" onclick="goBack()">‚Üê BACK</button>

<!-- MODE SELECTION -->
<div id="mode-screen">
<h1 style="color:#fff; font-size:3rem; margin-bottom:50px; text-shadow:0 0 20px var(--cyber-blue);">ONLINE MODE</h1>
<button class="mode-btn" onclick="selectMode('1v1')">1v1 MODE</button>
<button class="mode-btn" onclick="selectMode('2v2')">2v2 MODE</button>
</div>

<!-- ROOM SCREEN -->
<div id="room-screen">
<h1 id="room-title" style="color:#fff; font-size:2.5rem; margin-bottom:30px;">1V1 MODE</h1>
<div>
<button class="room-btn" onclick="hostRoom()">HOST ROOM</button>
<div id="code-display">ROOM: <span id="room-code"></span></div>
</div>
<div>
<input type="text" class="room-input" id="join-input" placeholder="ENTER CODE" maxlength="6">
<button class="room-btn" onclick="joinRoom()">JOIN ROOM</button>
</div>
<div id="waiting">WAITING...</div>
<button class="room-btn" onclick="cancelRoom()" style="border-color:#f00; color:#f00; margin-top:30px;">CANCEL</button>
</div>

<!-- SELECTION SCREEN -->
<div id="selection-screen">
<h1>ONLINE BATTLE</h1>
<div id="sel-hint" style="color:#555; letter-spacing:4px; margin-bottom:10px;">[ SELECT YOUR UNIT ]</div>
<div class="grid" id="roster"></div>
</div>

<!-- BATTLE SCREEN -->
<div id="battle-screen">
<div id="ticker"></div>
<div class="hud-top" id="hud-container"></div>
<div id="arena-bg"><div id="arena-sprites" style="display:flex; justify-content:center; align-items:center; gap:20px; flex-wrap:wrap;"></div></div>
<button id="exec-trigger" onclick="handleAction()">INITIATE STRIKE</button>
<div id="control-panel">
<div id="console">
<div style="color:var(--cyber-blue); font-weight:900; border-bottom:1px solid #333; margin-bottom:10px;">>> TACTICAL READOUT</div>
<div>MODULE: <span id="c-title" class="data-val">---</span></div>
<div>ACCURACY: <span id="c-acc" class="data-val">---</span></div>
<div style="color:var(--term-red)">EST DAMAGE: <span id="c-dmg" class="data-val">---</span></div>
<div id="c-desc" style="color:#666; font-size:0.7rem; margin-top:auto;">// AWAITING MODULE...</div>
</div>
<div id="move-grid">
<button class="move-btn" id="cat-att" onclick="showSub('ATTACK')">ATTACK SET</button>
<button class="move-btn" id="cat-itm" onclick="showSub('ITEMS')">ITEM POUCH</button>
<button class="move-btn" id="b0" style="display:none;"></button>
<button class="move-btn" id="b1" style="display:none;"></button>
<button class="move-btn" id="b2" style="display:none;"></button>
<button class="move-btn" id="b3" style="display:none;"></button>
</div>
</div>
</div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
<script src="game-data.js"></script>
<script src="online-game.js"></script>
</body>
</html>
