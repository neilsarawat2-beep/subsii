<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Subsi Ki Jang — Online Mode</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SHARED CSS -->
<link rel="stylesheet" href="shared.css">

</head>
<body>

<div id="crt-overlay"></div>

<div id="game-window">

  <!-- BACK -->
  <button id="back-btn" onclick="goBack()">← BACK</button>

  <!-- ================= MODE SELECT ================= -->
  <div id="mode-selection">
    <h1>ONLINE MODE</h1>
    <button class="mode-choice-btn" onclick="selectGameMode('1v1')">1v1 MODE</button>
    <button class="mode-choice-btn" onclick="selectGameMode('1v2')">1v2 MODE</button>
    <button class="mode-choice-btn" onclick="selectGameMode('2v2')">2v2 MODE</button>
  </div>

  <!-- ================= ROOM SCREEN ================= -->
  <div id="room-screen" style="display:none;">
    <h1 id="room-title">ONLINE MODE</h1>

    <div style="display:flex; gap:50px; flex-wrap:wrap; justify-content:center;">

      <div style="text-align:center;">
        <h2>HOST ROOM</h2>
        <button class="room-btn" onclick="hostRoom()">CREATE ROOM</button>
        <div id="room-code-display" style="display:none;">
          ROOM CODE: <span id="room-code"></span>
        </div>
      </div>

      <div style="text-align:center;">
        <h2>JOIN ROOM</h2>
        <input id="join-code-input" class="room-input"
               placeholder="ENTER CODE" maxlength="6">
        <button class="room-btn" onclick="joinRoom()">JOIN</button>
      </div>

    </div>

    <div id="waiting-msg" style="margin-top:20px;"></div>
  </div>

  <!-- ================= SELECTION ================= -->
  <div id="selection-screen" style="display:none;">
    <h1>ONLINE BATTLE</h1>
    <div id="sel-hint">[ SELECT YOUR UNIT ]</div>
    <div class="grid" id="roster"></div>
  </div>

  <!-- ================= BATTLE ================= -->
  <div id="battle-screen" style="display:none;">

    <div id="ticker"></div>

    <div id="battle-hud-container" class="battle-hud-container"></div>

    <div id="arena-flex"></div>

    <button id="exec-trigger" style="display:none;">INITIATE STRIKE</button>

    <div id="control-panel">
      <div id="console">
        <div style="font-weight:900;">TACTICAL READOUT</div>
        <div>MODULE: <span id="c-title">---</span></div>
        <div>ACCURACY: <span id="c-acc">---</span></div>
        <div>DAMAGE: <span id="c-dmg">---</span></div>
        <div id="c-desc">// AWAITING INPUT</div>
      </div>

      <div id="move-grid">
        <button id="cat-att" class="move-btn">ATTACK</button>
        <button id="cat-itm" class="move-btn">ITEMS</button>
        <button id="b0" class="move-btn" style="display:none;"></button>
        <button id="b1" class="move-btn" style="display:none;"></button>
        <button id="b2" class="move-btn" style="display:none;"></button>
        <button id="b3" class="move-btn" style="display:none;"></button>
      </div>
    </div>

  </div>

</div>

<!-- ================= FIREBASE ================= -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

<!-- ================= GAME DATA ================= -->
<script src="game-data.js"></script>

<!-- ================= ONLINE LOGIC ================= -->
<script src="online.js"></script>

</body>
</html>
